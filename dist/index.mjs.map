{"version":3,"sources":["../src/components/DragDropX.tsx","../src/components/svg/Loading.tsx"],"sourcesContent":["import React, { ChangeEvent, DragEvent, useRef, useState } from \"react\";\nimport { X, FileText, Upload } from \"lucide-react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport Loading from \"./svg/Loading\";\n\nlet ImageComponent: any;\ntry {\n  ImageComponent = require(\"next/image\").default;\n} catch (e) {\n  ImageComponent = ({ src, alt, layout, objectFit, className }: any) => (\n    <img \n      src={src} \n      alt={alt} \n      className={className} \n      style={{ \n        width: layout === \"fill\" ? \"100%\" : undefined, \n        height: layout === \"fill\" ? \"100%\" : undefined,\n        objectFit\n      }} \n    />\n  );\n}\n\nexport interface FileInfoInterface {\n  name: string;\n  size: number;\n  url: string;\n  type: string;\n}\n\nexport interface DragDropXProps {\n  width?: number;\n  height?: number;\n  onFileChange?: (fileInfo: FileInfoInterface | null) => void;\n  acceptedFileTypes?: string[];\n}\n\nconst initialFileInfos: FileInfoInterface = {\n  name: \"\",\n  size: 0,\n  url: \"\",\n  type: \"\",\n};\n\nexport default function DragDropX({ \n  width = 500, \n  height = 300, \n  onFileChange,\n  acceptedFileTypes = [\"image/png\", \"image/jpg\", \"image/jpeg\", \"text/plain\", \"application/pdf\", \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\", \"application/vnd.ms-powerpoint\"]\n}: DragDropXProps) {\n  const [fileInfos, setFileInfos] = useState<FileInfoInterface>(initialFileInfos);\n  const [isDragging, setIsDragging] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const ref = useRef<HTMLInputElement | null>(null);\n\n  const handleTriggerFile = () => ref.current?.click();\n\n  const handleFile = (file: File) => {\n    setLoading(true);\n    setProgress(1);\n\n    const interval = setInterval(() => {\n      setProgress((prev) => {\n        if (prev >= 100) {\n          clearInterval(interval);\n          setLoading(false);\n          const fileInfo = {\n            name: file.name,\n            size: file.size,\n            url: URL.createObjectURL(file),\n            type: file.type,\n          };\n          setFileInfos(fileInfo);\n          if (onFileChange) onFileChange(fileInfo);\n          return 100;\n        }\n        return prev + 5;\n      });\n    }, 50);\n  };\n\n  const handleInputChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) handleFile(file);\n  };\n\n  const handleDragOver = (e: DragEvent<HTMLDivElement>) => {\n    e.preventDefault();\n    setIsDragging(true);\n  };\n\n  const handleDragLeave = () => {\n    setIsDragging(false);\n  };\n\n  const handleDrop = (e: DragEvent<HTMLDivElement>) => {\n    e.preventDefault();\n    setIsDragging(false);\n\n    const file = e.dataTransfer.files?.[0];\n    if (file) handleFile(file);\n  };\n\n  const handleRemoveFile = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setFileInfos(initialFileInfos);\n    if (onFileChange) onFileChange(null);\n  };\n\n  return (\n    <div className=\"p-5 flex justify-center items-center\">\n      <input\n        ref={ref}\n        type=\"file\"\n        onChange={handleInputChange}\n        accept={acceptedFileTypes.join(\",\")}\n        className=\"hidden\"\n      />\n\n      <motion.div\n        className={`relative rounded-lg border-2 ${isDragging ? \"border-blue-500 bg-blue-100\" : \"border-gray-300 bg-white\"} flex justify-center items-center cursor-pointer overflow-hidden transition-all`}\n        style={{ width: `${width}px`, height: `${height}px` }}\n        onClick={handleTriggerFile}\n        onDragOver={handleDragOver}\n        onDragLeave={handleDragLeave}\n        onDrop={handleDrop}\n      >\n        <AnimatePresence>\n          {loading ? (\n            <motion.div\n              className=\"flex flex-col items-center\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n            >\n              <div className=\"relative w-16 h-16 flex items-center justify-center\">\n                <Loading progress={progress} />\n                <span className=\"absolute text-sm font-bold from-green-400/40 to-neutral-900 bg-opacity-70\">{progress}%</span>\n              </div>\n              <p className=\"text-gray-500 text-sm mt-2\">Uploading...</p>\n            </motion.div>\n          ) : !fileInfos.url ? (\n            <motion.div\n              className=\"flex flex-col items-center justify-center p-4\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n            >\n              <Upload size={48} className=\"text-gray-400 mb-2\" />\n              <motion.p className=\"text-gray-500 font-medium text-lg text-center\">\n                {isDragging ? \"Drop your file here\" : \"Click or Drag & Drop to Upload\"}\n              </motion.p>\n              <p className=\"text-gray-400 text-sm mt-2\">\n                Supported files: Images, PDF, DOCX, PPT, TXT\n              </p>\n            </motion.div>\n          ) : fileInfos.type.startsWith(\"image\") ? (\n            <motion.div\n              className=\"w-full h-full relative\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n            >\n              <ImageComponent\n                src={fileInfos.url}\n                alt=\"Uploaded Image\"\n                layout=\"fill\"\n                objectFit=\"cover\"\n                className=\"rounded-lg\"\n              />\n\n              <motion.button\n                onClick={handleRemoveFile}\n                className=\"absolute top-2 right-2 p-1 rounded-full bg-white hover:bg-gray-100 transition-colors shadow-sm\"\n                whileHover={{ scale: 1.1 }}\n              >\n                <X size={20} className=\"text-gray-600\" />\n              </motion.button>\n\n              <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-b from-green-400/40 to-neutral-900 bg-opacity-70 text-white p-2\">\n                <p className=\"text-sm font-medium truncate\">{fileInfos.name}</p>\n                <p className=\"text-xs\">{(fileInfos.size / 1024).toFixed(2)} KB</p>\n              </div>\n            </motion.div>\n          ) : (\n            <motion.div\n              className=\"flex flex-col items-center p-5 w-full\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n            >\n              <FileText size={48} className=\"text-gray-500\" />\n              <p className=\"text-gray-700 font-medium mt-2 text-center\">{fileInfos.name}</p>\n              <p className=\"text-gray-500 text-sm\">{(fileInfos.size / 1024).toFixed(2)} KB</p>\n\n              <motion.button\n                onClick={handleRemoveFile}\n                className=\"absolute top-2 right-2 p-1 rounded-full bg-white hover:bg-gray-100 transition-colors shadow-sm\"\n                whileHover={{ scale: 1.1 }}\n              >\n                <X size={20} className=\"text-gray-600\" />\n              </motion.button>\n\n              <div className=\"absolute bottom-0 left-0 right-0 bg-green-500 bg-opacity-70 text-white p-2\">\n                <p className=\"text-sm font-medium truncate\">{fileInfos.name}</p>\n                <p className=\"text-xs\">{(fileInfos.size / 1024).toFixed(2)} KB</p>\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </motion.div>\n    </div>\n  );\n}","interface ProgressInterface {\n    progress: number\n}\nexport default function Loading({ progress }: ProgressInterface) {\n    return (\n        <svg className=\"w-16 h-16\" viewBox=\"0 0 36 36\">\n            <defs>\n                <linearGradient id=\"progressGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n                    <stop offset=\"0%\" stopColor=\"#10B981\" />\n                    <stop offset=\"100%\" stopColor=\"#1F2937\" />\n                </linearGradient>\n            </defs>\n\n            <circle className=\"text-gray-300\" strokeWidth=\"3\" stroke=\"currentColor\" fill=\"transparent\" r=\"16\" cx=\"18\" cy=\"18\" />\n            <circle\n                className=\"bg-opacity-70\"\n                strokeWidth=\"3\"\n                strokeLinecap=\"round\"\n                strokeDasharray={`${2 * Math.PI * 16}`}\n                strokeDashoffset={`${2 * Math.PI * 16 * (1 - progress / 100)}`}\n                stroke=\"url(#progressGradient)\"\n                fill=\"transparent\"\n                r=\"16\"\n                cx=\"18\"\n                cy=\"18\"\n            />\n        </svg>\n    )\n}"],"mappings":"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","names":["jsx","jsxs"]}